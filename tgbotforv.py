import telebot
from datetime import datetime
import random
import threading
import time as t

bot = telebot.TeleBot('7506641672:AAFeZzGybfIS1YdxnjrEHd4UfReuoOQFfzE')

start_date = datetime(2022, 11, 24, 21, 17, 49)

# –¢–≤–æ–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏–∫–∏ (–ø–æ–ª–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã)
envelopes = {
    "–∫–æ–≥–¥–∞ –≥—Ä—É—Å—Ç–Ω–æ": "–ó–Ω–∞–µ—à—å –¥–∞–∂–µ –µ—Å–ª–∏ —Å–µ–π—á–∞—Å –∫–∞–∂–µ—Ç—Å—è —á—Ç–æ –º–∏—Ä –∫–∞–∫–æ–π-—Ç–æ —Å–µ—Ä—ã–π –∏ –ø—É—Å—Ç–æ–π —Ç—ã –Ω–µ –æ–¥–Ω–∞ —è —Ä—è–¥–æ–º —è –ª—é–±–ª—é —Ç–µ–±—è –≤—Å—ë –ø–ª–æ—Ö–æ–µ –ø—Ä–æ–π–¥—ë—Ç –≤—Å–µ–≥–¥–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ç—ã —Å–∏–ª—å–Ω–∞—è –¥–æ–±—Ä–∞—è —Ç—ã –º–æ—è –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä–æ–π –≥–ª–∞–∑–∞ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤—å —á—Ç–æ —è —Ç–µ–±—è –æ–±–Ω–∏–º–∞—é",
    "–∫–æ–≥–¥–∞ —Ä–∞–¥–æ—Å—Ç–Ω–æ": "–ú–æ—è –¥–µ–≤–æ—á–∫–∞ —É–ª—ã–±–∞–µ—Ç—Å—è –∫–∞–∫ –∂–µ –º–Ω–µ —Ö–æ—Ä–æ—à–æ –∑–Ω–∞—Ç—å —á—Ç–æ —É —Ç–µ–±—è —Ö–æ—Ä–æ—à–∏–π –¥–µ–Ω—å –∑–Ω–∞–π —Ç—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å —ç—Ç–æ–≥–æ —Å—á–∞—Å—Ç—å—è –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å —Å–∞–º—ã—Ö –¥–æ–±—Ä—ã—Ö —ç–º–æ—Ü–∏–π –Ω–∞ —Å–≤–µ—Ç–µ —è —Ä–∞–¥ –∑–∞ —Ç–µ–±—è –≤—Å–µ–≥–¥–∞ –∫–∞–∫ –∑–∞ —Å–µ–±—è",
    "–∫–æ–≥–¥–∞ –æ–¥–∏–Ω–æ–∫–æ": "–î–∞–∂–µ –µ—Å–ª–∏ –∫–∞–∂–µ—Ç—Å—è —á—Ç–æ —Ä—è–¥–æ–º –Ω–∏–∫–æ–≥–æ –Ω–µ—Ç —ç—Ç–æ –Ω–µ —Ç–∞–∫ —è –º—ã—Å–ª–µ–Ω–Ω–æ –≤—Å–µ–≥–¥–∞ –¥–µ—Ä–∂—É —Ç–µ–±—è –∑–∞ —Ä—É–∫—É —Ç—ã –≤ –º–æ—ë–º —Å–µ—Ä–¥—Ü–µ –∏ —Ç—ã —ç—Ç–æ –∑–Ω–∞–µ—à—å –æ–±–Ω–∏–º–∞–π —Å–µ–±—è –∑–∞ –º–µ–Ω—è —Ö–æ—Ä–æ—à–æ",
    "–∫–æ–≥–¥–∞ —Å–∫—É—á–Ω–æ": "–ù—É –µ—Å–ª–∏ —Å–∫—É—á–Ω–æ –∑–Ω–∞—á–∏—Ç –Ω–∞—Å—Ç–∞–ª–æ –≤—Ä–µ–º—è –ø—Ä–∏–¥—É–º–∞—Ç—å –∫–∞–∫—É—é-–Ω–∏–±—É–¥—å –≥–ª—É–ø–æ—Å—Ç—å –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ–∑–∞–ª–∏–ø–∞—Ç—å –≤ —Ç–µ–ª–µ—Ñ–æ–Ω –≤–º–µ—Å—Ç–µ —Å–∫—É—á–Ω—ã–µ –¥–Ω–∏ —ç—Ç–æ –Ω–µ —Å—Ç—Ä–∞—à–Ω–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –º–Ω–µ —è –≤—Å–µ–≥–¥–∞ –æ—Ç–∫–ª–∏–∫–Ω—É—Å—å",
    "–∫–æ–≥–¥–∞ –Ω–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è": "–ò–Ω–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –Ω–µ –¥–µ–ª–∞—Ç—å –Ω–∏—á–µ–≥–æ –ª–µ—á—å –ø–æ–¥ –ø–ª–µ–¥ –≤—ã–∫–ª—é—á–∏—Ç—å –≤–µ—Å—å —ç—Ç–æ—Ç –º–∏—Ä –∏ –ø—Ä–æ—Å—Ç–æ –≤—ã–¥–æ—Ö–Ω—É—Ç—å —Ç—ã –Ω–µ –æ–±—è–∑–∞–Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –±—ã—Ç—å –≤ —Ö–æ—Ä–æ—à–µ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏ –≥–ª–∞–≤–Ω–æ–µ —á—Ç–æ —Ç—ã —É –º–µ–Ω—è –µ—Å—Ç—å –∞ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–æ–π–¥—ë—Ç",
    "–∫–æ–≥–¥–∞ —Å–∫—É—á–∞–µ—à—å": "–Ø —Å–∫—É—á–∞—é —Ç–æ–∂–µ –º–æ–∂–µ—Ç –¥–∞–∂–µ —Å–∏–ª—å–Ω–µ–µ —á–µ–º —Ç—ã —Å–∫—É—á–∞—é –ø–æ —Ç–≤–æ–µ–º—É –≥–æ–ª–æ—Å—É –ø–æ —Ç–≤–æ–∏–º —Å–æ–æ–±—â–µ–Ω–∏—è–º –ø–æ —Ç–≤–æ–µ–º—É –ø—Ä–∏–≤–µ—Ç —Å–∫—É—á–∞—é –ø–æ –Ω–∞–º —Å–ø–∞—Å–∏–±–æ —á—Ç–æ —Ç—ã —É –º–µ–Ω—è –µ—Å—Ç—å",
    "–∫–æ–≥–¥–∞ –±–æ–∏—à—å—Å—è": "–ï—Å–ª–∏ —Å—Ç—Ä–∞—à–Ω–æ –∑–Ω–∞–π —è –º—ã—Å–ª–µ–Ω–Ω–æ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –¥–µ—Ä–∂—É —Ç–µ–±—è –∑–∞ —Ä—É–∫—É –∏ –æ–±–Ω–∏–º–∞—é —Ç–µ–±—è –Ω–µ –Ω—É–∂–Ω–æ –±—ã—Ç—å —Å–∏–ª—å–Ω–æ–π –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –ø—Ä–æ—Å—Ç–æ –ø–æ–∑–≤–æ–ª—å —Å–µ–±–µ –≤—ã–¥–æ—Ö–Ω—É—Ç—å —Ç—ã –ø–æ–¥ –º–æ–µ–π –∑–∞—â–∏—Ç–æ–π –¥–∞–∂–µ –µ—Å–ª–∏ –º—ã –¥–∞–ª–µ–∫–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ —è –≤—Å–µ–≥–¥–∞ –∑–∞ —Ç–µ–±—è —Ç—ã –º–æ—è",
    "–∫–æ–≥–¥–∞ –Ω–µ –∑–Ω–∞–µ—à—å –∫–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å": "–ü—Ä–æ—Å—Ç–æ –ø–æ—Å–ª—É—à–∞–π —Å–≤–æ—ë —Å–µ—Ä–¥—Ü–µ —Ç—ã –≤—Å–µ–≥–¥–∞ –∑–Ω–∞–µ—à—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –ø—Ä–æ—Å—Ç–æ –∏–Ω–æ–≥–¥–∞ –≤ –Ω—ë–º —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è —è –ø–æ–¥–¥–µ—Ä–∂—É —Ç–µ–±—è –≤ –ª—é–±–æ–º —Ä–µ—à–µ–Ω–∏–∏ –ø—Ä–æ—Å—Ç–æ –∑–Ω–∞–π —ç—Ç–æ"
}

# –¢–≤–æ–∏ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å –ø–æ–ª–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
memories = {
    'B': "–°–Ω–∞—á–∞–ª–∞ —Ç—ã –ø–æ–∫–∞–∑–∞–ª–∞—Å—å –º–Ω–µ —Å—Ç—Ä–∞–Ω–Ω–æ–π –¥–µ–≤–æ—á–∫–æ–π, —Ç–≤–æ–∏ –≤–∫—É—Å—ã –≤—ã–±–æ—Ä –º—É–∑—ã–∫–∏ –∏ –∞–Ω–∏–º–µ –ø–æ–∫–∞–∑–∞–ª–∏—Å—å –º–Ω–µ –æ—á–µ–Ω—å —Å—Ç—Ä–∞–Ω–Ω—ã–º–∏, –æ–±—ã—á–Ω–æ –≤—Å–µ –¥–µ–ª–∞—é—Ç —Ç–æ —á—Ç–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ –∏ —Å–º–æ—Ç—Ä—è—Ç –∏ —Å–ª—É—à–∞—é—Ç –Ω–æ —Ç—ã —Å–º–æ—Ç—Ä–µ–ª–∞ –∞–Ω–∏–º–µ 90—ã—Ö –∏ —Ç–µ–±–µ –±—ã–ª–æ –≤–µ—Å–µ–ª–æ, —è —Ç–µ–±—è –Ω–µ –ø–æ–Ω–∏–º–∞–ª –Ω–æ —Ç–≤–æ—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–Ω—è –≤–æ—Å—Ö–∏—â–∞–ª–∞, —Ç—ã –±—ã–ª–∞ - –ù–ê–°–¢–û–Ø–©–ï–ô, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç —Ç–æ —á—Ç–æ –µ–π —Å–∞–º–æ–π –Ω—Ä–∞–≤–∏—Ç—Å—è –∏ —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç –µ–π —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –¥–∞–∂–µ –Ω–µ —Å—Ç–µ—Å–Ω—è—è—Å—å –º–Ω–µ–Ω–∏—è –∏ –∫—Ä–∏—Ç–∏–∫–∏ –¥—Ä—É–≥–∏—Ö, —Ç—ã —Ç–∞ –∫—Ç–æ –º–µ–Ω—è —ç—Ç–∏–º –≤–æ—Å—Ö–∏—Ç–∏–ª–∞ –∏ —è –ø–æ–Ω—è–ª —á—Ç–æ –¢—ã –∏–º–µ–Ω–Ω–æ —Ç–æ —á—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–ª–æ –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏. –Ø –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–µ–Ω—å –º–æ–∂–Ω–æ –¥–∞–∂–µ —Å–∫–∞–∑–∞—Ç—å –æ–±—ã—á–Ω—ã–π –Ω–µ—É–¥–∞—á–Ω–∏–∫ –∫–æ—Ç–æ—Ä—ã–π –¥–∞–∂–µ –Ω–µ –¥–µ—Ä–∂–∞–ª –¥–µ–≤—É—à–µ–∫ –∑–∞ —Ä—É–∫—É, –Ω–æ —è –ø–æ–Ω–∏–º–∞–ª —á—Ç–æ —Ç–∞–∫—É—é –∞—Ñ–∏–≥–µ–Ω–Ω—É—é –¥–µ–≤—É—à–∫—É –∫–∞–∫ —Ç—ã –º–æ–≥—É—Ç –∑–∞–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–∞—Ä–µ–Ω—å, —Ç–æ—Ç –∫—Ç–æ –∫—Ä–∞—Å–∏–≤–µ–µ –∏ –ª—É—á—à–µ –º–µ–Ω—è –ø–æ—ç—Ç–æ–º—É —è –∏—Å–ø—ã—Ç—ã–≤–∞–ª —Ä–µ–≤–Ω–æ—Å—Ç—å, –∫ –ª—é–±–æ–º—É –∂–∏–≤–æ–º—É —Å—É—â–µ—Å—Ç–≤—É —Å –∫–æ—Ç–æ—Ä—ã–º —Ç—ã –∑–Ω–∞–∫–æ–º–∞ –∏ –ø–æ—ç—Ç–æ–º—É —è –≤ —Ç–æ—Ç –∂–µ –º–∏–≥ –ø—Ä–µ–¥–ª–æ–∂–∏–ª —Ç–µ–±–µ –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π. –Ø –Ω–∞—Å—Ç–æ–ª—å–∫–æ –±—ã–ª –≥–ª—É–ø —á—Ç–æ –¥–∞–∂–µ –∑–∞–±—ã–ª —á—Ç–æ —Ç—ã –º–æ–≥–ª–∞ –º–Ω–µ –æ—Ç–∫–∞–∑–∞—Ç—å..–Ω–æ —Ç—ã —Å–æ–≥–ª–∞—Å–∏–ª–∞—Å—å ‚ÅÑ‚Å†(‚Å†‚ÅÑ‚Å† ‚Å†‚ÅÑ‚Å†‚Ä¢‚Å†‚ÅÑ‚Å†-‚Å†‚ÅÑ‚Å†‚Ä¢‚Å†‚ÅÑ‚Å† ‚Å†‚ÅÑ‚Å†)‚Å†‚ÅÑ..–Ø –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–µ –º–æ–≥—É –ø–æ–Ω—è—Ç—å –ø–æ—á–µ–º—É?",
    'E': "–ü–æ–º–Ω—é –±—ã–ª–∞ –∑–∏–º–∞, –º—ã —É–∂–µ –æ—á–µ–Ω—å –Ω–µ–ø–ª–æ—Ö–æ –æ–±—â–∞–ª–∏—Å—å –∏ —Ö–æ—Ä–æ—à–æ –ª–∞–¥–∏–ª–∏ –∏ –Ω–∞—à–∞ —Å—Ç—Ä–∞—Å—Ç—å –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É –±—ã–ª–∞ –Ω–∞ –ø–∏–∫–µ, –≤–µ–¥—å –º—ã —Ö–æ—Ç—å –∏ –≤—Å—Ç—Ä–µ—á–∞–ª–∏—Å—å –Ω–æ –Ω–µ –∑–Ω–∞–ª–∏ –º–Ω–æ–≥–æ–µ –≤ –¥—Ä—É–≥ –¥—Ä—É–≥–µ, —è —Ç–æ–≥–¥–∞ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–ª –µ–ª–µ –µ–ª–µ –Ω–æ –ø–æ–º–Ω—é —Å–¥–µ–ª–∞–ª –∫—Ä–∏–Ω–∂ —ç–∂–∏—Ç —Å –ö—É—Ä—É–º–∏ –∏ —Å –ø–µ—Å–Ω–µ–π Lov66 –∏ —è –≥–æ—Ä–¥–∏–ª—Å—è —ç—Ç–∏–º —ç–¥–∏—Ç–æ–º XD..–ü–æ–º–Ω—é —Ç–≤–æ—è –º–∞–º–∞ –∑–∞–±–æ–ª–µ–ª–∞ –∏ –±—ã–ª–∞ –≤ –±–æ–ª—å–Ω–∏—Ü–µ –∏ –º—ã —Å —Ç–æ–±–æ–π –Ω–µ —Å–ø–∞–ª–∏ –≤—Å—é –Ω–æ—á—å –∏ –æ–±—â–∞–ª–∏—Å—å –Ω–∞ –≤—Å–µ —Ç–µ–º—ã –∂–∏–∑–Ω–∏, —ç—Ç–∞ –±—ã–ª–∞ –ª—É—á—à–∞—è –Ω–æ—á—å –∫–æ—Ç–æ—Ä–∞—è —É –º–µ–Ω—è –±—ã–ª–∞, —è –¥–∞–∂–µ –Ω–µ –¥—É–º–∞–ª —á—Ç–æ –¥–µ–≤—É—à–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–∫–æ–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π –∏ –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è –∑–∞–≥–∞–¥–æ—á–Ω–æ–π)",
    'A': "–í—Ä–æ–¥–µ –º—ã —É–∂–µ –æ–±–º–µ–Ω—è–ª–∏—Å—å —Ç–∏–∫—Ç–æ–∫–∞–º–∏, —É–∂–µ –∑–Ω–∞–µ–º –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –ª—É—á—à–µ –∏ –¥—É–º–∞—é –Ω–∞—á–∞–ª—Å—è –Ω–æ–≤—ã–π —ç—Ç–∞–ø –æ—Ç–Ω–æ—à–µ–Ω–∏–π –∞ –∏–º–µ–Ω–Ω–æ ¬´–û—Ç—Ç–æ—Ä–∂–µ–Ω–∏–µ¬ª —Å–æ–≥–ª–∞—Å–∏—Å—å –≤ —Ç–æ –≤—Ä–µ–º—è –≤ –Ω–∞—Å —Ä–∞–∑–¥—Ä–∞–∂–∞–ª–æ –≤—Å—ë, —è –Ω–µ–Ω–∞–≤–∏–¥–µ–ª —Ç–≤–æ–π –∏–≥–Ω–æ—Ä, —Ç–≤–æ—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ —Ö–æ–ª–æ–¥–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ, —É–≤–µ—Ä–µ–Ω –≤–æ –º–Ω–µ —Ç–æ–∂–µ –±—ã–ª–∏ –Ω–µ –ª—É—á—à–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ—Ç–æ—Ä—ã–µ —Ç–µ–±—è –±–µ—Å–∏–ª–∏, –Ω–æ —Ç–∞–∫ —è –≤–ø–µ—Ä–≤—ã–µ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª –æ–±–∏–¥—É, –Ω–∞—Å—Ç–æ—è—â—É—é –æ–±–∏–¥—É –∏ –æ–Ω–æ –±—å—ë—Ç –±–æ–ª—å–Ω–æ –∏ –ø—Ä—è–º–æ –≤ —Å–µ—Ä–¥—Ü–µ, –æ–¥–Ω–∞–∂–¥—ã —è –¥–∞–∂–µ –Ω–µ –º–æ–≥ —Å–ø–∞—Ç—å –∏–∑-–∑–∞ —Ç–∞–∫–æ–π –æ–±–∏–¥—ã –∏ –Ω–µ –∑–Ω–∞–ª –∫–∞–∫ –¥–∞–ª—å—à–µ —Å —Ç–æ–±–æ–π –æ–±—â–∞—Ç—å—Å—è..–Ø –∑–Ω–∞–ª —á—Ç–æ –º—ã –ª—é–±–∏–º –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –Ω–æ –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è –º–Ω–µ –±—ã–ª–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, —Ä–∞–∑ –º—ã –ª—é–±–∏–º –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —Ç–æ –ø–æ—á–µ–º—É –º—ã —Ç–∞–∫ —Ä—É–≥–∞–µ–º—Å—è? –ü–æ—á–µ–º—É –º—ã –æ–±–∑—ã–≤–∞–µ–º—Å—è –∏ —É–Ω–∏–∂–∞–µ–º –¥—Ä—É–≥ –¥—Ä—É–≥–∞? –ò —Å–∞–º–æ–µ —Å–º–µ—à–Ω–æ–µ —á—Ç–æ —è –º–æ–≥ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –∫–∞–∫ –∑–∞–≥—É–≥–ª–∏—Ç—å '–ö–∞–∫ –ø–µ—Ä–µ—Å—Ç–∞—Ç—å —Ä—É–≥–∞—Ç—å—Å—è —Å –¥–µ–≤—É—à–∫–æ–π'..–ù–æ –∏–Ω–æ–≥–¥–∞ –∏ –≥–ª—É–ø–æ—Å—Ç–∏ –¥–∞—é—Ç –ø–ª–æ–¥—ã, —è –ø—Ä–æ—á–∏—Ç–∞–ª –∫–æ–µ —á—Ç–æ, —á—Ç–æ —è –Ω–µ –º–æ–≥—É —Ç–µ–±–µ —Å–∫–∞–∑–∞—Ç—å)) –∏ —Ç–µ–ø–µ—Ä—å —Å—Å–æ—Ä–∞ –¥–∞—ë—Ç—Å—è —Ä–µ–¥–∫–æ –≤ –Ω–∞—à–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö.",
    'D': "–î–∞–∂–µ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —ç—Ç–æ, –Ω–∞—Å—Ç–æ—è—â–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –Ω–µ –º–æ–≥—É—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ 1 —á–µ–ª–æ–≤–µ–∫–µ –∏ —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –º—ã —Ä–∞—Å—Å—Ç–∞–ª–∏—Å—å, –¥–ª—è –º–µ–Ω—è —ç—Ç–æ –±—ã–ª–æ —Ç–∞–∫ –æ–±–∏–¥–Ω–æ –∏ —Ç—ã –¥–∞–∂–µ –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—à—å –∫–∞–∫ –º–Ω–µ –±—ã–ª–æ –≥—Ä—É—Å—Ç–Ω–æ, —è –ø–æ–∑–≤–æ–Ω–∏–ª –ò—Å–∞–∫—É –∏ –æ–Ω –º–µ–Ω—è –ø–æ–¥–¥–µ—Ä–∂–∞–ª, —è –æ—Ç–∫–∞–∑—ã–≤–∞–ª—Å—è –≤–µ—Ä–∏—Ç—å –≤ —Ç–æ —á—Ç–æ –º—ã –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ–º –æ–±—â–∞—Ç—å—Å—è..–ù–æ –¥—É–º–∞—é –∏–º–µ–Ω–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ä–∞—Å—Å—Ç–∞–≤–∞–Ω–∏—è–º –º—ã –ø–æ–Ω—è–ª–∏ —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏ —Ç–µ–ø–µ—Ä—å –º—ã –ø–æ –Ω–∞—Å—Ç–æ—è—â–µ–º—É –ª—é–±–∏–º –¥—Ä—É–≥ –¥—Ä—É–≥–∞ ;) –ú—ã –ø–µ—Ä–µ–∂–∏–ª–∏ –º–Ω–æ–≥–æ–µ, –∑–µ–º–ª–µ—Ç—Ä—è—Å–µ–Ω–∏–µ, —Ä–∞—Å—Å—Ç–∞–≤–∞–Ω–∏—è, —Å—Å–æ—Ä—ã, —Å–∫–æ–ª—å–∫–æ –æ–±–µ—â–∞–Ω–∏–π –º—ã –¥—Ä—É–≥ –¥—Ä—É–≥—É –¥–∞–≤–∞–ª–∏, —Å–∫–æ–ª—å–∫–æ –ª–≥–∞–ª–∏ –¥—Ä—É–≥ –¥—Ä—É–≥—É, –æ–±–∑—ã–≤–∞–ª–∏ –∏ –ª—é–±–∏–ª–∏ –Ω–æ —Ç–µ–ø–µ—Ä—å —ç—Ç–∏ –º–æ–º–µ–Ω—Ç—ã –ª–∏—à—å –ø—Ä–æ—Å—Ç–æ –Ω–∞—à–∏ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–æ—Ç–æ—Ä—ã–µ –º—ã –±—É–¥–µ–º –≤—Å–ø–æ–º–∏–Ω–∞—Ç—å –í–ú–ï–°–¢–ï. –Ø –ª—é–±–ª—é —Ç–µ–±—è –∂–∞–Ω—É—Å—å–∫–∞ –∏ —ç—Ç–æ–≥–æ –±–æ—Ç–∞ —è —Å–æ–∑–¥–∞–ª —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—èüåπ.",
    'C': "–í –¥–µ–Ω—å –∫–æ–≥–¥–∞ —è –Ω–∞–ø–∏—Å–∞–ª —ç—Ç–æ—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ–¥ —ç—Ç–∏–º —Ä–æ–ª–∏–∫–æ–º —è –Ω–µ —Ç–æ —á—Ç–æ–±—ã –±—ã–ª –Ω–µ—Å—á–∞—Å—Ç–Ω—ã–º –ø–∞—Ä–Ω–µ–º..—è —Å–∫–æ—Ä–µ–µ –±—ã–ª –ø—É—Å—Ç—ã–º, –¥–∞ —É –º–µ–Ω—è –±—ã–ª–∏ –¥—Ä—É–∑—å—è, –¥–æ—Ä–æ–≥–∏–µ –º–Ω–µ –ª—é–¥–∏, –Ω–µ –±–µ–¥–Ω–∞—è —Å–µ–º—å—è –Ω–æ –≤–Ω—É—Ç—Ä–∏ —è –±—ã–ª –ø—É—Å—Ç –∏ —Å –¥—Ä—É–∑—å—è–º–∏ —è –æ–±—â–∞–ª—Å—è –Ω–æ –∫–∞–∫ –±—É–¥—Ç–æ —Ä—Ç–æ–º –∞ –Ω–µ –¥—É—à–æ–π, –∫–∞–∂–¥—ã–π –±–æ–∂–∏–π –¥–µ–Ω—å –¥–ª—è –º–µ–Ω—è –±—ã–ª —Å–∫—É—á–Ω—ã–º –∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º. –Ø –Ω–∞–ø–∏—Å–∞–ª —ç—Ç–æ—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ —Å —Ü–µ–ª—å—é –∑–∞–≤–µ—Å—Ç–∏ –¥—Ä—É–∑–µ–π –∏–ª–∏ –Ω–æ–≤—ã—Ö –∑–Ω–∞–∫–æ–º—ã—Ö, —è –¥–∞–∂–µ —Å–µ–π—á–∞—Å –Ω–µ –∑–Ω–∞—é –∑–∞—á–µ–º —è —ç—Ç–æ –Ω–∞–ø–∏—Å–∞–ª –Ω–æ —Ç—ã –æ—Ç–≤–µ—Ç–∏–ª–∞ –Ω–∞ –º–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∏ –º–Ω–µ –ø–æ—á–µ–º—É —Ç–æ –∑–∞—Ö–æ—Ç–µ–ª–æ—Å—å —Ç–µ–±–µ –Ω–∞–ø–∏—Å–∞—Ç—å. –Ø –≤–µ–¥—å –¥–∞–∂–µ –Ω–µ –∑–Ω–∞–ª —á—Ç–æ —Ç—ã –¥–µ–≤—É—à–∫–∞ –∏ —á—Ç–æ —Ç—ã —Ç–∞–∫–∞—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è —Ö–æ—Ç—è –ø—Ä–æ—Ñ–∏–ª—å —É —Ç–µ–±—è –±—ã–ª –ø—É—Å—Ç–æ–π, —è –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–µ–ª –æ–±—â–∞—Ç—å—Å—è —Å–≤–æ–±–æ–¥–Ω–æ, –∑–∞–≤–µ—Å—Ç–∏ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –Ω—É–ª—è.."
}

# –£—Ç—Ä–µ–Ω–Ω–∏–µ –∏ –Ω–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
morning_messages = [
    "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –º–æ—è —Å–æ–ª–Ω—ã—à–∫–æ ‚òÄ‚òÄ‚òÄ –ü—É—Å—Ç—å —É —Ç–µ–±—è –±—É–¥–µ—Ç —Å–∞–º—ã–π –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –¥–µ–Ω—å üíï",
    "–° –¥–æ–±—Ä—ã–º —É—Ç—Ä–æ–º, –º–æ—è –ª—é–±–æ–≤—å! üòò –ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –ø–æ–¥–∞—Ä–∏—Ç —Ç–µ–±–µ —Ç–æ–ª—å–∫–æ —É–ª—ã–±–∫–∏ ü•∞",
    "–î–æ–±—Ä–æ–µ —É—Ç—Ä–µ—á–∫–æ, –º–æ—è —Å–ª–∞–¥–∫–∞—è –¥–µ–≤–æ—á–∫–∞ ü•∞ –Ø —É–∂–µ —Å–∫—É—á–∞—é –ø–æ —Ç–µ–±–µ üíñ",
    "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –ª—é–±–∏–º–∞—è! ‚òÄÔ∏è –Ø –º—ã—Å–ª–µ–Ω–Ω–æ –æ–±–Ω–∏–º–∞—é —Ç–µ–±—è, –±—É–¥—å —Å—á–∞—Å—Ç–ª–∏–≤–∞ —Å–µ–≥–æ–¥–Ω—è üíï",
    "–ü—Ä–æ—Å—ã–ø–∞–π—Å—è, –º–æ—è —Ä–∞–¥–æ—Å—Ç—å! üå∏ –ù–æ–≤—ã–π –¥–µ–Ω—å ‚Äî –Ω–æ–≤—ã–π –ø–æ–≤–æ–¥ –¥–ª—è —Å—á–∞—Å—Ç—å—è üíó"
]

night_messages = [
    "–°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏, –º–æ—è –º–∞–ª—ã—à–∫–∞ üåô –ü—É—Å—Ç—å —Ç–µ–±–µ —Å–Ω—è—Ç—Å—è —Å–∞–º—ã–µ –¥–æ–±—Ä—ã–µ —Å–Ω—ã üòò",
    "–°–ª–∞–¥–∫–∏—Ö —Å–Ω–æ–≤, –º–æ—è –¥–µ–≤–æ—á–∫–∞ üí´ –Ø –ª—é–±–ª—é —Ç–µ–±—è –≤—Å–µ–º —Å–µ—Ä–¥—Ü–µ–º üíñ",
    "–î–æ–±—Ä–æ–π –Ω–æ—á–∏, —Ä–æ–¥–Ω–∞—è! üåå –û–±–Ω–∏–º–∞—é —Ç–µ–±—è –º—ã—Å–ª–µ–Ω–Ω–æ, –ø—É—Å—Ç—å —Ç–µ–±–µ –±—É–¥–µ—Ç —Ç–µ–ø–ª–æ üíï",
    "–°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏, –ª—é–±–∏–º–∞—è üåô –¢—ã —É –º–µ–Ω—è —Å–∞–º–∞—è —á—É–¥–µ—Å–Ω–∞—è, —Å–ø–∏ —Å–ª–∞–¥–∫–æ üíñ",
    "–°–ª–∞–¥–∫–∏—Ö —Å–Ω–æ–≤, –º–æ—è –Ω–µ–∂–Ω–æ—Å—Ç—å üí§ –ü—É—Å—Ç—å —Ç–≤–æ–∏ —Å–Ω—ã –±—É–¥—É—Ç –ª—ë–≥–∫–∏–º–∏ –∏ –¥–æ–±—Ä—ã–º–∏ ‚ú®"
]

# –ò–≥—Ä–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ ‚ù§Ô∏è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∂–µ–ª–∞–Ω–∏—è
user_hearts = {}  # chat_id : –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–¥–µ—á–µ–∫

wishes = {
    1: {"text": "–ê—Ç–∞–π –ø–æ—Å—Ç–∞–≤–∏—Ç —Å —Ç–æ–±–æ–π –ª—é–±—ã–µ –ø–∞—Ä–Ω—ã–µ –∞–≤—ã", "cost": 5},
    2: {"text": "–ê—Ç–∞–π —É–¥–µ–ª–∏—Ç —Ç–µ–±–µ 1 —á–∞—Å –≤—Ä–µ–º–µ–Ω–∏ –≤ –ª—é–±–æ–π –∏–≥—Ä–µ", "cost": 5},
    3: {"text": "–ê—Ç–∞–π —Å–∫–∏–Ω–µ—Ç –ª—é–±–æ–µ —Ñ–æ—Ç–æ", "cost": 5},
    4: {"text": "–ê—Ç–∞–π –ø–æ—Å–º–æ—Ç—Ä–∏—Ç —Å —Ç–æ–±–æ–π –ª—é–±–æ–π —Ñ–∏–ª—å–º", "cost": 5},
    5: {"text": "–ê—Ç–∞–π –æ—Ç–∫—Ä–æ–µ—Ç —Ç–µ–±–µ 2 —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–∞", "cost": 5},
    6: {"text": "–ê—Ç–∞–π —Å–æ—á–∏–Ω–∏—Ç —Ç–µ–±–µ —Å—Ç–∏—Ö", "cost": 5},
    7: {"text": "–ê—Ç–∞–π –¥–∞—Å—Ç —Ç–µ–±–µ –ª—é–±–æ–µ –æ–±–µ—â–∞–Ω–∏–µ", "cost": 5},
    8: {"text": "–ê—Ç–∞–π –≤—ã—Å–ª—É—à–∞–µ—Ç 3 —Ç–≤–æ–∏—Ö —Å–µ–∫—Ä–µ—Ç–∞ –∏ –Ω–µ –±—É–¥–µ—Ç —Ç–µ–±—è —Å—É–¥–∏—Ç—å", "cost": 5},
    9: {"text": "–ê—Ç–∞–π –≤—Å—é –Ω–æ—á—å –±—É–¥–µ—Ç –æ–±—â–∞—Ç—å—Å—è —Å —Ç–æ–±–æ–π", "cost": 5},
    10: {"text": "–ê—Ç–∞–π —Å–¥–µ–ª–∞–µ—Ç –≤—Å—ë —á—Ç–æ —Ç—ã –ø–æ–ø—Ä–æ—Å–∏—à—å", "cost": 10},
}

# –ó–∞–≥–∞–¥–∫–∏ –¥–ª—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞ ‚ù§Ô∏è
riddles = [
    {"q": "–ß—Ç–æ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Å –∑–∞–∫—Ä—ã—Ç—ã–º–∏ –≥–ª–∞–∑–∞–º–∏?", "a": "—Å–æ–Ω"},
    {"q": "–ö–∞–∫–æ–π –º–µ—Å—è—Ü –≤ –≥–æ–¥—É —Å–∞–º—ã–π –∫–æ—Ä–æ—Ç–∫–∏–π?", "a": "—Ñ–µ–≤—Ä–∞–ª—å"},
    {"q": "–ß—Ç–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –µ–≥–æ –ø–æ—Ç–µ—Ä—è–ª?", "a": "–≤—Ä–µ–º—è"},
    {"q": "–ß—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ, –µ—Å–ª–∏ –µ–≥–æ –≤–∑—è—Ç—å?", "a": "–¥—ã—Ä–∞"},
    {"q": "–ß—Ç–æ –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥ –Ω–∞–º–∏, –Ω–æ –Ω–µ –≤–∏–¥–∏–º?", "a": "–±—É–¥—É—â–µ–µ"},
    # ... –î–æ–±–∞–≤—å —Å—é–¥–∞ –µ—â–µ –∑–∞–≥–∞–¥–∫–∏, —á—Ç–æ–±—ã –±—ã–ª–æ 55 (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –∑–¥–µ—Å—å 5)
]

chat_ids = set()  # –¥–ª—è —Ä–∞—Å—Å—ã–ª–æ–∫, –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

chat_id_for_scheduled = None

@bot.message_handler(commands=['start'])
def start(message):
    global chat_id_for_scheduled
    chat_id_for_scheduled = message.chat.id
    chat_ids.add(message.chat.id)  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    markup = telebot.types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.row('‚ù§Ô∏è –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ª—é–±–≤–∏', 'üì© –û—Ç–∫—Ä—ã–≤–∞–π, –∫–æ–≥–¥–∞...')
    markup.row('üî† –í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –ê—Ç–∞—è', 'üéÅ –ó–∞–≥–∞–¥–∫–∏ –∏ –∂–µ–ª–∞–Ω–∏—è')
    bot.send_message(message.chat.id, "–ü—Ä–∏–≤–µ—Ç, –º–æ—è –ñ–∞–Ω—É—Å—å–∫–∞ üíå –≤—ã–±–µ—Ä–∏ —á—Ç–æ —Ö–æ—á–µ—à—å –æ—Ç–∫—Ä—ã—Ç—å:", reply_markup=markup)

@bot.message_handler(commands=['broadcast'])
def broadcast(message):
    # –ö–æ–º–∞–Ω–¥–∞ —Ä–∞—Å—Å—ã–ª–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–±—è (–∞–≤—Ç–æ—Ä–∞)
    if message.chat.id != chat_id_for_scheduled:
        bot.send_message(message.chat.id, "–£ —Ç–µ–±—è –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏")
        return
    text = message.text[len("/broadcast "):].strip()
    if not text:
        bot.send_message(message.chat.id, "–ù–∞–ø–∏—à–∏ —Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã /broadcast")
        return
    sent_count = 0
    for cid in chat_ids:
        try:
            bot.send_message(cid, f"–†–∞—Å—Å—ã–ª–∫–∞:\n\n{text}")
            sent_count += 1
        except:
            pass
    bot.send_message(message.chat.id, f"–†–∞—Å—Å—ã–ª–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ {sent_count} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º")

@bot.message_handler(func=lambda m: True)
def handle_message(message):
    chat_ids.add(message.chat.id)  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

    text = message.text.lower()

    if text == '‚ù§Ô∏è –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ª—é–±–≤–∏':
        now = datetime.now()
        delta = now - start_date
        years = delta.days // 365
        months = (delta.days % 365) // 30
        weeks = (delta.days % 30) // 7
        days = (delta.days % 7)
        hours = delta.seconds // 3600
        minutes = (delta.seconds % 3600) // 60
        seconds = delta.seconds % 60
        bot.send_message(message.chat.id,
            f"–ú—ã –≤–º–µ—Å—Ç–µ —É–∂–µ {years} –ª–µ—Ç, {months} –º–µ—Å—è—Ü–µ–≤, {weeks} –Ω–µ–¥–µ–ª—å, {days} –¥–Ω–µ–π, {hours} —á–∞—Å–æ–≤, {minutes} –º–∏–Ω—É—Ç –∏ {seconds} —Å–µ–∫—É–Ω–¥ ‚ù§Ô∏è")

    elif text == 'üì© –æ—Ç–∫—Ä—ã–≤–∞–π, –∫–æ–≥–¥–∞...':
        markup = telebot.types.ReplyKeyboardMarkup(resize_keyboard=True)
        for key in envelopes:
            markup.add(key)
        markup.add('‚¨Ö –Ω–∞–∑–∞–¥')
        bot.send_message(message.chat.id, "–í—ã–±–µ—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏–∫:", reply_markup=markup)

    elif text in envelopes:
        bot.send_message(message.chat.id, envelopes[text])

    elif text == 'üî† –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –∞—Ç–∞–π':
        letter = random.choice(list(memories.keys()))
        bot.send_message(message.chat.id, f"–¢–≤–æ—è –±—É–∫–≤–∞ —Å–µ–≥–æ–¥–Ω—è {letter}:\n\n{memories[letter]}")

    elif text == '‚¨Ö –Ω–∞–∑–∞–¥':
        start(message)

    elif text == 'üéÅ –∑–∞–≥–∞–¥–∫–∏ –∏ –∂–µ–ª–∞–Ω–∏—è':
        hearts = user_hearts.get(message.chat.id, 0)
        markup = telebot.types.ReplyKeyboardMarkup(resize_keyboard=True)
        markup.add('üß© –û—Ç–≥–∞–¥–∞—Ç—å –∑–∞–≥–∞–¥–∫—É', 'üõçÔ∏è –ö—É–ø–∏—Ç—å –∂–µ–ª–∞–Ω–∏–µ')
        markup.add('‚¨Ö –Ω–∞–∑–∞–¥')
        bot.send_message(message.chat.id, f"–£ —Ç–µ–±—è ‚ù§Ô∏è: {hearts}\n–í—ã–±–∏—Ä–∞–π —á—Ç–æ —Ö–æ—á–µ—à—å:", reply_markup=markup)

    elif text == 'üß© –æ—Ç–≥–∞–¥–∞—Ç—å –∑–∞–≥–∞–¥–∫—É':
        riddle = random.choice(riddles)
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–≥–∞–¥–∫—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        user_riddles[message.chat.id] = riddle
        bot.send_message(message.chat.id, f"–ó–∞–≥–∞–¥–∫–∞:\n{riddle['q']}\n–û—Ç–≤–µ—á–∞–π –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º!")

    elif message.chat.id in user_riddles:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–≥–∞–¥–∫—É
        answer = message.text.strip().lower()
        correct = user_riddles[message.chat.id]['a']
        if answer == correct:
            user_hearts[message.chat.id] = user_hearts.get(message.chat.id, 0) + 1
            bot.send_message(message.chat.id, f"–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –¢—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª ‚ù§Ô∏è. –°–µ–π—á–∞—Å —É —Ç–µ–±—è: {user_hearts[message.chat.id]}")
        else:
            bot.send_message(message.chat.id, f"–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ –∏–ª–∏ –Ω–∞–ø–∏—à–∏ '–û—Ç–º–µ–Ω–∞'")
        del user_riddles[message.chat.id]

    elif text == 'üõçÔ∏è –∫—É–ø–∏—Ç—å –∂–µ–ª–∞–Ω–∏–µ':
        hearts = user_hearts.get(message.chat.id, 0)
        markup = telebot.types.InlineKeyboardMarkup()
        for wid, wish in wishes.items():
            markup.add(telebot.types.InlineKeyboardButton(f"{wish['text']} ‚Äî {wish['cost']} ‚ù§Ô∏è", callback_data=f"buy_{wid}"))
        bot.send_message(message.chat.id, f"–£ —Ç–µ–±—è ‚ù§Ô∏è: {hearts}\n–í—ã–±–∏—Ä–∞–π –∂–µ–ª–∞–Ω–∏–µ –¥–ª—è –ø–æ–∫—É–ø–∫–∏:", reply_markup=markup)

    elif text == '–æ—Ç–º–µ–Ω–∞':
        if message.chat.id in user_riddles:
            del user_riddles[message.chat.id]
            bot.send_message(message.chat.id, "–ó–∞–≥–∞–¥–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞.")

    else:
        bot.send_message(message.chat.id, "–í—ã–±–µ—Ä–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, –º–æ—è –ñ–∞–Ω—É—Å—å–∫–∞ üíó")

# –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≥–∞–¥–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–µ–π—á–∞—Å –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞–∑–≥–∞–¥–∞—Ç—å
user_riddles = {}

@bot.callback_query_handler(func=lambda call: call.data.startswith("buy_"))
def callback_buy(call):
    wish_id = int(call.data.split("_")[1])
    hearts = user_hearts.get(call.message.chat.id, 0)
    wish = wishes.get(wish_id)
    if wish is None:
        bot.answer_callback_query(call.id, "–û—à–∏–±–∫–∞, –∂–µ–ª–∞–Ω–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
        return
    if hearts < wish["cost"]:
        bot.answer_callback_query(call.id, "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ‚ù§Ô∏è –¥–ª—è –ø–æ–∫—É–ø–∫–∏")
        return
    # –°–ø–∏—Å—ã–≤–∞–µ–º —Å–µ—Ä–¥—Ü–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º –ø–æ–∫—É–ø–∫—É
    user_hearts[call.message.chat.id] = hearts - wish["cost"]
    bot.answer_callback_query(call.id, f"–¢—ã –∫—É–ø–∏–ª–∞: {wish['text']}")
    bot.send_message(call.message.chat.id, f"–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –¢—ã –ø—Ä–∏–æ–±—Ä–µ–ª–∞:\n{wish['text']}\n–û—Å—Ç–∞–ª–æ—Å—å ‚ù§Ô∏è: {user_hearts[call.message.chat.id]}")

def schedule_messages():
    while True:
        now = datetime.now()
        if chat_id_for_scheduled:
            if now.hour == 7 and now.minute == 0:
                bot.send_message(chat_id_for_scheduled, random.choice(morning_messages))
                t.sleep(60)
            if now.hour == 22 and now.minute == 0:
                bot.send_message(chat_id_for_scheduled, random.choice(night_messages))
                t.sleep(60)
        t.sleep(30)

threading.Thread(target=schedule_messages, daemon=True).start()

bot.polling()